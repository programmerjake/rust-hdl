IrModule {
    path: "top",
    source_location: SourceLocation($FILE, $LINE-2, 9),
    parent: <None>,
    interface_types: [
        Input(
            IrAggregateType {
                discriminant_type: IrBitVectorType {
                    bit_count: 0,
                    signed: false,
                },
                variants: [
                    IrVariantType {
                        name: "",
                        discriminant: LiteralBits {
                            value: 0x0_u0,
                        },
                        fields: [
                            IrFieldType {
                                name: "a",
                                ty: IrAggregateType {
                                    discriminant_type: IrBitVectorType {
                                        bit_count: 4,
                                        signed: false,
                                    },
                                    variants: [
                                        IrVariantType {
                                            name: "Z",
                                            discriminant: LiteralBits {
                                                value: 0x0_u4,
                                            },
                                            fields: [],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                        IrVariantType {
                                            name: "A",
                                            discriminant: LiteralBits {
                                                value: 0x5_u4,
                                            },
                                            fields: [],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                        IrVariantType {
                                            name: "C",
                                            discriminant: LiteralBits {
                                                value: 0xa_u4,
                                            },
                                            fields: [],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                        IrVariantType {
                                            name: "B",
                                            discriminant: LiteralBits {
                                                value: 0xf_u4,
                                            },
                                            fields: [],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                    ],
                                    flattened_fields: IrBitVectorType {
                                        bit_count: 0,
                                        signed: false,
                                    },
                                },
                            },
                            IrFieldType {
                                name: "b",
                                ty: IrBitVectorType {
                                    bit_count: 1,
                                    signed: false,
                                },
                            },
                            IrFieldType {
                                name: "c",
                                ty: IrAggregateType {
                                    discriminant_type: IrBitVectorType {
                                        bit_count: 0,
                                        signed: false,
                                    },
                                    variants: [
                                        IrVariantType {
                                            name: "",
                                            discriminant: LiteralBits {
                                                value: 0x0_u0,
                                            },
                                            fields: [],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                    ],
                                    flattened_fields: IrBitVectorType {
                                        bit_count: 0,
                                        signed: false,
                                    },
                                },
                            },
                            IrFieldType {
                                name: "d",
                                ty: IrBitVectorType {
                                    bit_count: 8,
                                    signed: false,
                                },
                            },
                        ],
                        flattened_fields: IrBitVectorType {
                            bit_count: 13,
                            signed: false,
                        },
                    },
                ],
                flattened_fields: IrBitVectorType {
                    bit_count: 13,
                    signed: false,
                },
            },
        ),
        Output(
            IrBitVectorType {
                bit_count: 8,
                signed: false,
            },
        ),
    ],
    interface: [
        Input(
            IrModuleInputData {
                external_value: ExternalInput {
                    value_type: IrAggregateType {
                        discriminant_type: IrBitVectorType {
                            bit_count: 0,
                            signed: false,
                        },
                        variants: [
                            IrVariantType {
                                name: "",
                                discriminant: LiteralBits {
                                    value: 0x0_u0,
                                },
                                fields: [
                                    IrFieldType {
                                        name: "a",
                                        ty: IrAggregateType {
                                            discriminant_type: IrBitVectorType {
                                                bit_count: 4,
                                                signed: false,
                                            },
                                            variants: [
                                                IrVariantType {
                                                    name: "Z",
                                                    discriminant: LiteralBits {
                                                        value: 0x0_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                                IrVariantType {
                                                    name: "A",
                                                    discriminant: LiteralBits {
                                                        value: 0x5_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                                IrVariantType {
                                                    name: "C",
                                                    discriminant: LiteralBits {
                                                        value: 0xa_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                                IrVariantType {
                                                    name: "B",
                                                    discriminant: LiteralBits {
                                                        value: 0xf_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                            ],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                    },
                                    IrFieldType {
                                        name: "b",
                                        ty: IrBitVectorType {
                                            bit_count: 1,
                                            signed: false,
                                        },
                                    },
                                    IrFieldType {
                                        name: "c",
                                        ty: IrAggregateType {
                                            discriminant_type: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                            variants: [
                                                IrVariantType {
                                                    name: "",
                                                    discriminant: LiteralBits {
                                                        value: 0x0_u0,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                            ],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                    },
                                    IrFieldType {
                                        name: "d",
                                        ty: IrBitVectorType {
                                            bit_count: 8,
                                            signed: false,
                                        },
                                    },
                                ],
                                flattened_fields: IrBitVectorType {
                                    bit_count: 13,
                                    signed: false,
                                },
                            },
                        ],
                        flattened_fields: IrBitVectorType {
                            bit_count: 13,
                            signed: false,
                        },
                    },
                },
                module_input: IrModuleInput {
                    module: "top",
                    index: 0,
                    path: "io.value",
                    value_type: IrAggregateType {
                        discriminant_type: IrBitVectorType {
                            bit_count: 0,
                            signed: false,
                        },
                        variants: [
                            IrVariantType {
                                name: "",
                                discriminant: LiteralBits {
                                    value: 0x0_u0,
                                },
                                fields: [
                                    IrFieldType {
                                        name: "a",
                                        ty: IrAggregateType {
                                            discriminant_type: IrBitVectorType {
                                                bit_count: 4,
                                                signed: false,
                                            },
                                            variants: [
                                                IrVariantType {
                                                    name: "Z",
                                                    discriminant: LiteralBits {
                                                        value: 0x0_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                                IrVariantType {
                                                    name: "A",
                                                    discriminant: LiteralBits {
                                                        value: 0x5_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                                IrVariantType {
                                                    name: "C",
                                                    discriminant: LiteralBits {
                                                        value: 0xa_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                                IrVariantType {
                                                    name: "B",
                                                    discriminant: LiteralBits {
                                                        value: 0xf_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                            ],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                    },
                                    IrFieldType {
                                        name: "b",
                                        ty: IrBitVectorType {
                                            bit_count: 1,
                                            signed: false,
                                        },
                                    },
                                    IrFieldType {
                                        name: "c",
                                        ty: IrAggregateType {
                                            discriminant_type: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                            variants: [
                                                IrVariantType {
                                                    name: "",
                                                    discriminant: LiteralBits {
                                                        value: 0x0_u0,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                            ],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                    },
                                    IrFieldType {
                                        name: "d",
                                        ty: IrBitVectorType {
                                            bit_count: 8,
                                            signed: false,
                                        },
                                    },
                                ],
                                flattened_fields: IrBitVectorType {
                                    bit_count: 13,
                                    signed: false,
                                },
                            },
                        ],
                        flattened_fields: IrBitVectorType {
                            bit_count: 13,
                            signed: false,
                        },
                    },
                },
            },
        ),
        Output(
            IrModuleOutputData {
                output_read: IrOutputRead(
                    IrOutputReadData {
                        module: <None>,
                        value_type: IrBitVectorType {
                            bit_count: 8,
                            signed: false,
                        },
                        write_data: IrOutputWriteData {
                            writing_module: "top",
                            index: 1,
                        },
                    },
                ),
                wire: IrWire {
                    path: "top"."io.out",
                    source_location: SourceLocation($FILE, $LINE-2, 9),
                    value_type: IrBitVectorType {
                        bit_count: 8,
                        signed: false,
                    },
                    assigned_value: Mux {
                        condition: ExpandScope {
                            value: SameSizeBinOp {
                                kind: And,
                                value_type: IrBitVectorType {
                                    bit_count: 1,
                                    signed: false,
                                },
                                scope: Some(
                                    Scope {
                                        source_location: SourceLocation($FILE, $LINE-111, 9),
                                        path: "top".'1,
                                        ..
                                    },
                                ),
                                lhs: IsAggregateVariant {
                                    aggregate_value: ExtractAggregateField {
                                        aggregate_value: ShrinkScope {
                                            value: IrModuleInput {
                                                module: "top",
                                                index: 0,
                                                path: "io.value",
                                                value_type: IrAggregateType {
                                                    discriminant_type: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                    variants: [
                                                        IrVariantType {
                                                            name: "",
                                                            discriminant: LiteralBits {
                                                                value: 0x0_u0,
                                                            },
                                                            fields: [
                                                                IrFieldType {
                                                                    name: "a",
                                                                    ty: IrAggregateType {
                                                                        discriminant_type: IrBitVectorType {
                                                                            bit_count: 4,
                                                                            signed: false,
                                                                        },
                                                                        variants: [
                                                                            IrVariantType {
                                                                                name: "Z",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x0_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "A",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x5_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "C",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0xa_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "B",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0xf_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "b",
                                                                    ty: IrBitVectorType {
                                                                        bit_count: 1,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "c",
                                                                    ty: IrAggregateType {
                                                                        discriminant_type: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                        variants: [
                                                                            IrVariantType {
                                                                                name: "",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x0_u0,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "d",
                                                                    ty: IrBitVectorType {
                                                                        bit_count: 8,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 13,
                                                                signed: false,
                                                            },
                                                        },
                                                    ],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 13,
                                                        signed: false,
                                                    },
                                                },
                                            },
                                            value_type: IrAggregateType {
                                                discriminant_type: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                                variants: [
                                                    IrVariantType {
                                                        name: "",
                                                        discriminant: LiteralBits {
                                                            value: 0x0_u0,
                                                        },
                                                        fields: [
                                                            IrFieldType {
                                                                name: "a",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 4,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "Z",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "A",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x5_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "C",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xa_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "B",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xf_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "b",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 1,
                                                                    signed: false,
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "c",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u0,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "d",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 8,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                ],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 13,
                                                    signed: false,
                                                },
                                            },
                                            scope: Scope {
                                                source_location: SourceLocation($FILE, $LINE-2, 9),
                                                path: "top",
                                                ..
                                            },
                                        },
                                        aggregate_type: IrAggregateType {
                                            discriminant_type: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                            variants: [
                                                IrVariantType {
                                                    name: "",
                                                    discriminant: LiteralBits {
                                                        value: 0x0_u0,
                                                    },
                                                    fields: [
                                                        IrFieldType {
                                                            name: "a",
                                                            ty: IrAggregateType {
                                                                discriminant_type: IrBitVectorType {
                                                                    bit_count: 4,
                                                                    signed: false,
                                                                },
                                                                variants: [
                                                                    IrVariantType {
                                                                        name: "Z",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x0_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "A",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x5_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "C",
                                                                        discriminant: LiteralBits {
                                                                            value: 0xa_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "B",
                                                                        discriminant: LiteralBits {
                                                                            value: 0xf_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "b",
                                                            ty: IrBitVectorType {
                                                                bit_count: 1,
                                                                signed: false,
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "c",
                                                            ty: IrAggregateType {
                                                                discriminant_type: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                                variants: [
                                                                    IrVariantType {
                                                                        name: "",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x0_u0,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "d",
                                                            ty: IrBitVectorType {
                                                                bit_count: 8,
                                                                signed: false,
                                                            },
                                                        },
                                                    ],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 13,
                                                        signed: false,
                                                    },
                                                },
                                            ],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 13,
                                                signed: false,
                                            },
                                        },
                                        variant_index: 0,
                                        field_index: 0,
                                    },
                                    aggregate_type: IrAggregateType {
                                        discriminant_type: IrBitVectorType {
                                            bit_count: 4,
                                            signed: false,
                                        },
                                        variants: [
                                            IrVariantType {
                                                name: "Z",
                                                discriminant: LiteralBits {
                                                    value: 0x0_u4,
                                                },
                                                fields: [],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                            },
                                            IrVariantType {
                                                name: "A",
                                                discriminant: LiteralBits {
                                                    value: 0x5_u4,
                                                },
                                                fields: [],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                            },
                                            IrVariantType {
                                                name: "C",
                                                discriminant: LiteralBits {
                                                    value: 0xa_u4,
                                                },
                                                fields: [],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                            },
                                            IrVariantType {
                                                name: "B",
                                                discriminant: LiteralBits {
                                                    value: 0xf_u4,
                                                },
                                                fields: [],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                            },
                                        ],
                                        flattened_fields: IrBitVectorType {
                                            bit_count: 0,
                                            signed: false,
                                        },
                                    },
                                    variant_index: 1,
                                },
                                rhs: ShrinkScope {
                                    value: BoolOutBinOp {
                                        kind: CompareEq,
                                        input_type: IrBitVectorType {
                                            bit_count: 8,
                                            signed: false,
                                        },
                                        scope: Some(
                                            Scope {
                                                source_location: SourceLocation($FILE, $LINE-111, 9),
                                                path: "top".'1,
                                                ..
                                            },
                                        ),
                                        lhs: SameSizeBinOp {
                                            kind: Xor,
                                            value_type: IrBitVectorType {
                                                bit_count: 8,
                                                signed: false,
                                            },
                                            scope: Some(
                                                Scope {
                                                    source_location: SourceLocation($FILE, $LINE-111, 9),
                                                    path: "top".'1,
                                                    ..
                                                },
                                            ),
                                            lhs: ShrinkScope {
                                                value: ExtractAggregateField {
                                                    aggregate_value: ShrinkScope {
                                                        value: IrModuleInput {
                                                            module: "top",
                                                            index: 0,
                                                            path: "io.value",
                                                            value_type: IrAggregateType {
                                                                discriminant_type: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                                variants: [
                                                                    IrVariantType {
                                                                        name: "",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x0_u0,
                                                                        },
                                                                        fields: [
                                                                            IrFieldType {
                                                                                name: "a",
                                                                                ty: IrAggregateType {
                                                                                    discriminant_type: IrBitVectorType {
                                                                                        bit_count: 4,
                                                                                        signed: false,
                                                                                    },
                                                                                    variants: [
                                                                                        IrVariantType {
                                                                                            name: "Z",
                                                                                            discriminant: LiteralBits {
                                                                                                value: 0x0_u4,
                                                                                            },
                                                                                            fields: [],
                                                                                            flattened_fields: IrBitVectorType {
                                                                                                bit_count: 0,
                                                                                                signed: false,
                                                                                            },
                                                                                        },
                                                                                        IrVariantType {
                                                                                            name: "A",
                                                                                            discriminant: LiteralBits {
                                                                                                value: 0x5_u4,
                                                                                            },
                                                                                            fields: [],
                                                                                            flattened_fields: IrBitVectorType {
                                                                                                bit_count: 0,
                                                                                                signed: false,
                                                                                            },
                                                                                        },
                                                                                        IrVariantType {
                                                                                            name: "C",
                                                                                            discriminant: LiteralBits {
                                                                                                value: 0xa_u4,
                                                                                            },
                                                                                            fields: [],
                                                                                            flattened_fields: IrBitVectorType {
                                                                                                bit_count: 0,
                                                                                                signed: false,
                                                                                            },
                                                                                        },
                                                                                        IrVariantType {
                                                                                            name: "B",
                                                                                            discriminant: LiteralBits {
                                                                                                value: 0xf_u4,
                                                                                            },
                                                                                            fields: [],
                                                                                            flattened_fields: IrBitVectorType {
                                                                                                bit_count: 0,
                                                                                                signed: false,
                                                                                            },
                                                                                        },
                                                                                    ],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            },
                                                                            IrFieldType {
                                                                                name: "b",
                                                                                ty: IrBitVectorType {
                                                                                    bit_count: 1,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrFieldType {
                                                                                name: "c",
                                                                                ty: IrAggregateType {
                                                                                    discriminant_type: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                    variants: [
                                                                                        IrVariantType {
                                                                                            name: "",
                                                                                            discriminant: LiteralBits {
                                                                                                value: 0x0_u0,
                                                                                            },
                                                                                            fields: [],
                                                                                            flattened_fields: IrBitVectorType {
                                                                                                bit_count: 0,
                                                                                                signed: false,
                                                                                            },
                                                                                        },
                                                                                    ],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            },
                                                                            IrFieldType {
                                                                                name: "d",
                                                                                ty: IrBitVectorType {
                                                                                    bit_count: 8,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 13,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 13,
                                                                    signed: false,
                                                                },
                                                            },
                                                        },
                                                        value_type: IrAggregateType {
                                                            discriminant_type: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                            variants: [
                                                                IrVariantType {
                                                                    name: "",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x0_u0,
                                                                    },
                                                                    fields: [
                                                                        IrFieldType {
                                                                            name: "a",
                                                                            ty: IrAggregateType {
                                                                                discriminant_type: IrBitVectorType {
                                                                                    bit_count: 4,
                                                                                    signed: false,
                                                                                },
                                                                                variants: [
                                                                                    IrVariantType {
                                                                                        name: "Z",
                                                                                        discriminant: LiteralBits {
                                                                                            value: 0x0_u4,
                                                                                        },
                                                                                        fields: [],
                                                                                        flattened_fields: IrBitVectorType {
                                                                                            bit_count: 0,
                                                                                            signed: false,
                                                                                        },
                                                                                    },
                                                                                    IrVariantType {
                                                                                        name: "A",
                                                                                        discriminant: LiteralBits {
                                                                                            value: 0x5_u4,
                                                                                        },
                                                                                        fields: [],
                                                                                        flattened_fields: IrBitVectorType {
                                                                                            bit_count: 0,
                                                                                            signed: false,
                                                                                        },
                                                                                    },
                                                                                    IrVariantType {
                                                                                        name: "C",
                                                                                        discriminant: LiteralBits {
                                                                                            value: 0xa_u4,
                                                                                        },
                                                                                        fields: [],
                                                                                        flattened_fields: IrBitVectorType {
                                                                                            bit_count: 0,
                                                                                            signed: false,
                                                                                        },
                                                                                    },
                                                                                    IrVariantType {
                                                                                        name: "B",
                                                                                        discriminant: LiteralBits {
                                                                                            value: 0xf_u4,
                                                                                        },
                                                                                        fields: [],
                                                                                        flattened_fields: IrBitVectorType {
                                                                                            bit_count: 0,
                                                                                            signed: false,
                                                                                        },
                                                                                    },
                                                                                ],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        },
                                                                        IrFieldType {
                                                                            name: "b",
                                                                            ty: IrBitVectorType {
                                                                                bit_count: 1,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrFieldType {
                                                                            name: "c",
                                                                            ty: IrAggregateType {
                                                                                discriminant_type: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                                variants: [
                                                                                    IrVariantType {
                                                                                        name: "",
                                                                                        discriminant: LiteralBits {
                                                                                            value: 0x0_u0,
                                                                                        },
                                                                                        fields: [],
                                                                                        flattened_fields: IrBitVectorType {
                                                                                            bit_count: 0,
                                                                                            signed: false,
                                                                                        },
                                                                                    },
                                                                                ],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        },
                                                                        IrFieldType {
                                                                            name: "d",
                                                                            ty: IrBitVectorType {
                                                                                bit_count: 8,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 13,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 13,
                                                                signed: false,
                                                            },
                                                        },
                                                        scope: Scope {
                                                            source_location: SourceLocation($FILE, $LINE-2, 9),
                                                            path: "top",
                                                            ..
                                                        },
                                                    },
                                                    aggregate_type: IrAggregateType {
                                                        discriminant_type: IrBitVectorType {
                                                            bit_count: 0,
                                                            signed: false,
                                                        },
                                                        variants: [
                                                            IrVariantType {
                                                                name: "",
                                                                discriminant: LiteralBits {
                                                                    value: 0x0_u0,
                                                                },
                                                                fields: [
                                                                    IrFieldType {
                                                                        name: "a",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 4,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "Z",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "A",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x5_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "C",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xa_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "B",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xf_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "b",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 1,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "c",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u0,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "d",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 8,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 13,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                    variant_index: 0,
                                                    field_index: 3,
                                                },
                                                value_type: IrBitVectorType {
                                                    bit_count: 8,
                                                    signed: false,
                                                },
                                                scope: Scope {
                                                    source_location: SourceLocation($FILE, $LINE-111, 9),
                                                    path: "top".'1,
                                                    ..
                                                },
                                            },
                                            rhs: LiteralBits {
                                                value: 0x5_u8,
                                            },
                                        },
                                        rhs: LiteralBits {
                                            value: 0x3_u8,
                                        },
                                    },
                                    value_type: IrBitVectorType {
                                        bit_count: 1,
                                        signed: false,
                                    },
                                    scope: Scope {
                                        source_location: SourceLocation($FILE, $LINE-111, 9),
                                        path: "top".'1,
                                        ..
                                    },
                                },
                            },
                            value_type: IrBitVectorType {
                                bit_count: 1,
                                signed: false,
                            },
                            input_scope: Scope {
                                source_location: SourceLocation($FILE, $LINE-111, 9),
                                path: "top".'1,
                                ..
                            },
                            result_scope: Scope {
                                source_location: SourceLocation($FILE, $LINE-2, 9),
                                path: "top",
                                ..
                            },
                        },
                        value_type: IrBitVectorType {
                            bit_count: 8,
                            signed: false,
                        },
                        scope: Some(
                            Scope {
                                source_location: SourceLocation($FILE, $LINE-2, 9),
                                path: "top",
                                ..
                            },
                        ),
                        true_value: ExpandScope {
                            value: LiteralBits {
                                value: 0x1_u8,
                            },
                            value_type: IrBitVectorType {
                                bit_count: 8,
                                signed: false,
                            },
                            input_scope: Scope {
                                source_location: SourceLocation($FILE, $LINE-111, 9),
                                path: "top".'1,
                                ..
                            },
                            result_scope: Scope {
                                source_location: SourceLocation($FILE, $LINE-2, 9),
                                path: "top",
                                ..
                            },
                        },
                        false_value: Mux {
                            condition: ExpandScope {
                                value: SameSizeBinOp {
                                    kind: And,
                                    value_type: IrBitVectorType {
                                        bit_count: 1,
                                        signed: false,
                                    },
                                    scope: Some(
                                        Scope {
                                            source_location: SourceLocation($FILE, $LINE-111, 9),
                                            path: "top".'2,
                                            ..
                                        },
                                    ),
                                    lhs: IsAggregateVariant {
                                        aggregate_value: ExtractAggregateField {
                                            aggregate_value: ShrinkScope {
                                                value: IrModuleInput {
                                                    module: "top",
                                                    index: 0,
                                                    path: "io.value",
                                                    value_type: IrAggregateType {
                                                        discriminant_type: IrBitVectorType {
                                                            bit_count: 0,
                                                            signed: false,
                                                        },
                                                        variants: [
                                                            IrVariantType {
                                                                name: "",
                                                                discriminant: LiteralBits {
                                                                    value: 0x0_u0,
                                                                },
                                                                fields: [
                                                                    IrFieldType {
                                                                        name: "a",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 4,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "Z",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "A",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x5_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "C",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xa_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "B",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xf_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "b",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 1,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "c",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u0,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "d",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 8,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 13,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                },
                                                value_type: IrAggregateType {
                                                    discriminant_type: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                    variants: [
                                                        IrVariantType {
                                                            name: "",
                                                            discriminant: LiteralBits {
                                                                value: 0x0_u0,
                                                            },
                                                            fields: [
                                                                IrFieldType {
                                                                    name: "a",
                                                                    ty: IrAggregateType {
                                                                        discriminant_type: IrBitVectorType {
                                                                            bit_count: 4,
                                                                            signed: false,
                                                                        },
                                                                        variants: [
                                                                            IrVariantType {
                                                                                name: "Z",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x0_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "A",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x5_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "C",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0xa_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "B",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0xf_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "b",
                                                                    ty: IrBitVectorType {
                                                                        bit_count: 1,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "c",
                                                                    ty: IrAggregateType {
                                                                        discriminant_type: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                        variants: [
                                                                            IrVariantType {
                                                                                name: "",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x0_u0,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "d",
                                                                    ty: IrBitVectorType {
                                                                        bit_count: 8,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 13,
                                                                signed: false,
                                                            },
                                                        },
                                                    ],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 13,
                                                        signed: false,
                                                    },
                                                },
                                                scope: Scope {
                                                    source_location: SourceLocation($FILE, $LINE-2, 9),
                                                    path: "top",
                                                    ..
                                                },
                                            },
                                            aggregate_type: IrAggregateType {
                                                discriminant_type: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                                variants: [
                                                    IrVariantType {
                                                        name: "",
                                                        discriminant: LiteralBits {
                                                            value: 0x0_u0,
                                                        },
                                                        fields: [
                                                            IrFieldType {
                                                                name: "a",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 4,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "Z",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "A",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x5_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "C",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xa_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "B",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xf_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "b",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 1,
                                                                    signed: false,
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "c",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u0,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "d",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 8,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                ],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 13,
                                                    signed: false,
                                                },
                                            },
                                            variant_index: 0,
                                            field_index: 0,
                                        },
                                        aggregate_type: IrAggregateType {
                                            discriminant_type: IrBitVectorType {
                                                bit_count: 4,
                                                signed: false,
                                            },
                                            variants: [
                                                IrVariantType {
                                                    name: "Z",
                                                    discriminant: LiteralBits {
                                                        value: 0x0_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                                IrVariantType {
                                                    name: "A",
                                                    discriminant: LiteralBits {
                                                        value: 0x5_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                                IrVariantType {
                                                    name: "C",
                                                    discriminant: LiteralBits {
                                                        value: 0xa_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                                IrVariantType {
                                                    name: "B",
                                                    discriminant: LiteralBits {
                                                        value: 0xf_u4,
                                                    },
                                                    fields: [],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                },
                                            ],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                        variant_index: 2,
                                    },
                                    rhs: ShrinkScope {
                                        value: SameSizeUnOp {
                                            kind: Not,
                                            value_type: IrBitVectorType {
                                                bit_count: 1,
                                                signed: false,
                                            },
                                            input: ShrinkScope {
                                                value: ExtractAggregateField {
                                                    aggregate_value: ShrinkScope {
                                                        value: IrModuleInput {
                                                            module: "top",
                                                            index: 0,
                                                            path: "io.value",
                                                            value_type: IrAggregateType {
                                                                discriminant_type: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                                variants: [
                                                                    IrVariantType {
                                                                        name: "",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x0_u0,
                                                                        },
                                                                        fields: [
                                                                            IrFieldType {
                                                                                name: "a",
                                                                                ty: IrAggregateType {
                                                                                    discriminant_type: IrBitVectorType {
                                                                                        bit_count: 4,
                                                                                        signed: false,
                                                                                    },
                                                                                    variants: [
                                                                                        IrVariantType {
                                                                                            name: "Z",
                                                                                            discriminant: LiteralBits {
                                                                                                value: 0x0_u4,
                                                                                            },
                                                                                            fields: [],
                                                                                            flattened_fields: IrBitVectorType {
                                                                                                bit_count: 0,
                                                                                                signed: false,
                                                                                            },
                                                                                        },
                                                                                        IrVariantType {
                                                                                            name: "A",
                                                                                            discriminant: LiteralBits {
                                                                                                value: 0x5_u4,
                                                                                            },
                                                                                            fields: [],
                                                                                            flattened_fields: IrBitVectorType {
                                                                                                bit_count: 0,
                                                                                                signed: false,
                                                                                            },
                                                                                        },
                                                                                        IrVariantType {
                                                                                            name: "C",
                                                                                            discriminant: LiteralBits {
                                                                                                value: 0xa_u4,
                                                                                            },
                                                                                            fields: [],
                                                                                            flattened_fields: IrBitVectorType {
                                                                                                bit_count: 0,
                                                                                                signed: false,
                                                                                            },
                                                                                        },
                                                                                        IrVariantType {
                                                                                            name: "B",
                                                                                            discriminant: LiteralBits {
                                                                                                value: 0xf_u4,
                                                                                            },
                                                                                            fields: [],
                                                                                            flattened_fields: IrBitVectorType {
                                                                                                bit_count: 0,
                                                                                                signed: false,
                                                                                            },
                                                                                        },
                                                                                    ],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            },
                                                                            IrFieldType {
                                                                                name: "b",
                                                                                ty: IrBitVectorType {
                                                                                    bit_count: 1,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrFieldType {
                                                                                name: "c",
                                                                                ty: IrAggregateType {
                                                                                    discriminant_type: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                    variants: [
                                                                                        IrVariantType {
                                                                                            name: "",
                                                                                            discriminant: LiteralBits {
                                                                                                value: 0x0_u0,
                                                                                            },
                                                                                            fields: [],
                                                                                            flattened_fields: IrBitVectorType {
                                                                                                bit_count: 0,
                                                                                                signed: false,
                                                                                            },
                                                                                        },
                                                                                    ],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            },
                                                                            IrFieldType {
                                                                                name: "d",
                                                                                ty: IrBitVectorType {
                                                                                    bit_count: 8,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 13,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 13,
                                                                    signed: false,
                                                                },
                                                            },
                                                        },
                                                        value_type: IrAggregateType {
                                                            discriminant_type: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                            variants: [
                                                                IrVariantType {
                                                                    name: "",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x0_u0,
                                                                    },
                                                                    fields: [
                                                                        IrFieldType {
                                                                            name: "a",
                                                                            ty: IrAggregateType {
                                                                                discriminant_type: IrBitVectorType {
                                                                                    bit_count: 4,
                                                                                    signed: false,
                                                                                },
                                                                                variants: [
                                                                                    IrVariantType {
                                                                                        name: "Z",
                                                                                        discriminant: LiteralBits {
                                                                                            value: 0x0_u4,
                                                                                        },
                                                                                        fields: [],
                                                                                        flattened_fields: IrBitVectorType {
                                                                                            bit_count: 0,
                                                                                            signed: false,
                                                                                        },
                                                                                    },
                                                                                    IrVariantType {
                                                                                        name: "A",
                                                                                        discriminant: LiteralBits {
                                                                                            value: 0x5_u4,
                                                                                        },
                                                                                        fields: [],
                                                                                        flattened_fields: IrBitVectorType {
                                                                                            bit_count: 0,
                                                                                            signed: false,
                                                                                        },
                                                                                    },
                                                                                    IrVariantType {
                                                                                        name: "C",
                                                                                        discriminant: LiteralBits {
                                                                                            value: 0xa_u4,
                                                                                        },
                                                                                        fields: [],
                                                                                        flattened_fields: IrBitVectorType {
                                                                                            bit_count: 0,
                                                                                            signed: false,
                                                                                        },
                                                                                    },
                                                                                    IrVariantType {
                                                                                        name: "B",
                                                                                        discriminant: LiteralBits {
                                                                                            value: 0xf_u4,
                                                                                        },
                                                                                        fields: [],
                                                                                        flattened_fields: IrBitVectorType {
                                                                                            bit_count: 0,
                                                                                            signed: false,
                                                                                        },
                                                                                    },
                                                                                ],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        },
                                                                        IrFieldType {
                                                                            name: "b",
                                                                            ty: IrBitVectorType {
                                                                                bit_count: 1,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrFieldType {
                                                                            name: "c",
                                                                            ty: IrAggregateType {
                                                                                discriminant_type: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                                variants: [
                                                                                    IrVariantType {
                                                                                        name: "",
                                                                                        discriminant: LiteralBits {
                                                                                            value: 0x0_u0,
                                                                                        },
                                                                                        fields: [],
                                                                                        flattened_fields: IrBitVectorType {
                                                                                            bit_count: 0,
                                                                                            signed: false,
                                                                                        },
                                                                                    },
                                                                                ],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        },
                                                                        IrFieldType {
                                                                            name: "d",
                                                                            ty: IrBitVectorType {
                                                                                bit_count: 8,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 13,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 13,
                                                                signed: false,
                                                            },
                                                        },
                                                        scope: Scope {
                                                            source_location: SourceLocation($FILE, $LINE-2, 9),
                                                            path: "top",
                                                            ..
                                                        },
                                                    },
                                                    aggregate_type: IrAggregateType {
                                                        discriminant_type: IrBitVectorType {
                                                            bit_count: 0,
                                                            signed: false,
                                                        },
                                                        variants: [
                                                            IrVariantType {
                                                                name: "",
                                                                discriminant: LiteralBits {
                                                                    value: 0x0_u0,
                                                                },
                                                                fields: [
                                                                    IrFieldType {
                                                                        name: "a",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 4,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "Z",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "A",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x5_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "C",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xa_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "B",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xf_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "b",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 1,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "c",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u0,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "d",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 8,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 13,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                    variant_index: 0,
                                                    field_index: 1,
                                                },
                                                value_type: IrBitVectorType {
                                                    bit_count: 1,
                                                    signed: false,
                                                },
                                                scope: Scope {
                                                    source_location: SourceLocation($FILE, $LINE-111, 9),
                                                    path: "top".'2,
                                                    ..
                                                },
                                            },
                                        },
                                        value_type: IrBitVectorType {
                                            bit_count: 1,
                                            signed: false,
                                        },
                                        scope: Scope {
                                            source_location: SourceLocation($FILE, $LINE-111, 9),
                                            path: "top".'2,
                                            ..
                                        },
                                    },
                                },
                                value_type: IrBitVectorType {
                                    bit_count: 1,
                                    signed: false,
                                },
                                input_scope: Scope {
                                    source_location: SourceLocation($FILE, $LINE-111, 9),
                                    path: "top".'2,
                                    ..
                                },
                                result_scope: Scope {
                                    source_location: SourceLocation($FILE, $LINE-2, 9),
                                    path: "top",
                                    ..
                                },
                            },
                            value_type: IrBitVectorType {
                                bit_count: 8,
                                signed: false,
                            },
                            scope: Some(
                                Scope {
                                    source_location: SourceLocation($FILE, $LINE-2, 9),
                                    path: "top",
                                    ..
                                },
                            ),
                            true_value: ExpandScope {
                                value: SameSizeBinOp {
                                    kind: Add,
                                    value_type: IrBitVectorType {
                                        bit_count: 8,
                                        signed: false,
                                    },
                                    scope: Some(
                                        Scope {
                                            source_location: SourceLocation($FILE, $LINE-111, 9),
                                            path: "top".'2,
                                            ..
                                        },
                                    ),
                                    lhs: LiteralBits {
                                        value: 0x2_u8,
                                    },
                                    rhs: ShrinkScope {
                                        value: ExtractAggregateField {
                                            aggregate_value: ShrinkScope {
                                                value: IrModuleInput {
                                                    module: "top",
                                                    index: 0,
                                                    path: "io.value",
                                                    value_type: IrAggregateType {
                                                        discriminant_type: IrBitVectorType {
                                                            bit_count: 0,
                                                            signed: false,
                                                        },
                                                        variants: [
                                                            IrVariantType {
                                                                name: "",
                                                                discriminant: LiteralBits {
                                                                    value: 0x0_u0,
                                                                },
                                                                fields: [
                                                                    IrFieldType {
                                                                        name: "a",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 4,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "Z",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "A",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x5_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "C",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xa_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "B",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xf_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "b",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 1,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "c",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u0,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "d",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 8,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 13,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                },
                                                value_type: IrAggregateType {
                                                    discriminant_type: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                    variants: [
                                                        IrVariantType {
                                                            name: "",
                                                            discriminant: LiteralBits {
                                                                value: 0x0_u0,
                                                            },
                                                            fields: [
                                                                IrFieldType {
                                                                    name: "a",
                                                                    ty: IrAggregateType {
                                                                        discriminant_type: IrBitVectorType {
                                                                            bit_count: 4,
                                                                            signed: false,
                                                                        },
                                                                        variants: [
                                                                            IrVariantType {
                                                                                name: "Z",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x0_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "A",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x5_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "C",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0xa_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "B",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0xf_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "b",
                                                                    ty: IrBitVectorType {
                                                                        bit_count: 1,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "c",
                                                                    ty: IrAggregateType {
                                                                        discriminant_type: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                        variants: [
                                                                            IrVariantType {
                                                                                name: "",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x0_u0,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "d",
                                                                    ty: IrBitVectorType {
                                                                        bit_count: 8,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 13,
                                                                signed: false,
                                                            },
                                                        },
                                                    ],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 13,
                                                        signed: false,
                                                    },
                                                },
                                                scope: Scope {
                                                    source_location: SourceLocation($FILE, $LINE-2, 9),
                                                    path: "top",
                                                    ..
                                                },
                                            },
                                            aggregate_type: IrAggregateType {
                                                discriminant_type: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                                variants: [
                                                    IrVariantType {
                                                        name: "",
                                                        discriminant: LiteralBits {
                                                            value: 0x0_u0,
                                                        },
                                                        fields: [
                                                            IrFieldType {
                                                                name: "a",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 4,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "Z",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "A",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x5_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "C",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xa_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "B",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xf_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "b",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 1,
                                                                    signed: false,
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "c",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u0,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "d",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 8,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                ],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 13,
                                                    signed: false,
                                                },
                                            },
                                            variant_index: 0,
                                            field_index: 3,
                                        },
                                        value_type: IrBitVectorType {
                                            bit_count: 8,
                                            signed: false,
                                        },
                                        scope: Scope {
                                            source_location: SourceLocation($FILE, $LINE-111, 9),
                                            path: "top".'2,
                                            ..
                                        },
                                    },
                                },
                                value_type: IrBitVectorType {
                                    bit_count: 8,
                                    signed: false,
                                },
                                input_scope: Scope {
                                    source_location: SourceLocation($FILE, $LINE-111, 9),
                                    path: "top".'2,
                                    ..
                                },
                                result_scope: Scope {
                                    source_location: SourceLocation($FILE, $LINE-2, 9),
                                    path: "top",
                                    ..
                                },
                            },
                            false_value: ExpandScope {
                                value: LiteralBits {
                                    value: 0x3_u8,
                                },
                                value_type: IrBitVectorType {
                                    bit_count: 8,
                                    signed: false,
                                },
                                input_scope: Scope {
                                    source_location: SourceLocation($FILE, $LINE-111, 9),
                                    path: "top".'3,
                                    ..
                                },
                                result_scope: Scope {
                                    source_location: SourceLocation($FILE, $LINE-2, 9),
                                    path: "top",
                                    ..
                                },
                            },
                        },
                    },
                    ..
                },
            },
        ),
    ],
    wires: {
        "io.out": IrWire {
            source_location: SourceLocation($FILE, $LINE-2, 9),
            value_type: IrBitVectorType {
                bit_count: 8,
                signed: false,
            },
            assigned_value: Mux {
                condition: ExpandScope {
                    value: SameSizeBinOp {
                        kind: And,
                        value_type: IrBitVectorType {
                            bit_count: 1,
                            signed: false,
                        },
                        scope: Some(
                            Scope {
                                source_location: SourceLocation($FILE, $LINE-111, 9),
                                path: "top".'1,
                                ..
                            },
                        ),
                        lhs: IsAggregateVariant {
                            aggregate_value: ExtractAggregateField {
                                aggregate_value: ShrinkScope {
                                    value: IrModuleInput {
                                        module: "top",
                                        index: 0,
                                        path: "io.value",
                                        value_type: IrAggregateType {
                                            discriminant_type: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                            variants: [
                                                IrVariantType {
                                                    name: "",
                                                    discriminant: LiteralBits {
                                                        value: 0x0_u0,
                                                    },
                                                    fields: [
                                                        IrFieldType {
                                                            name: "a",
                                                            ty: IrAggregateType {
                                                                discriminant_type: IrBitVectorType {
                                                                    bit_count: 4,
                                                                    signed: false,
                                                                },
                                                                variants: [
                                                                    IrVariantType {
                                                                        name: "Z",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x0_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "A",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x5_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "C",
                                                                        discriminant: LiteralBits {
                                                                            value: 0xa_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "B",
                                                                        discriminant: LiteralBits {
                                                                            value: 0xf_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "b",
                                                            ty: IrBitVectorType {
                                                                bit_count: 1,
                                                                signed: false,
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "c",
                                                            ty: IrAggregateType {
                                                                discriminant_type: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                                variants: [
                                                                    IrVariantType {
                                                                        name: "",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x0_u0,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "d",
                                                            ty: IrBitVectorType {
                                                                bit_count: 8,
                                                                signed: false,
                                                            },
                                                        },
                                                    ],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 13,
                                                        signed: false,
                                                    },
                                                },
                                            ],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 13,
                                                signed: false,
                                            },
                                        },
                                    },
                                    value_type: IrAggregateType {
                                        discriminant_type: IrBitVectorType {
                                            bit_count: 0,
                                            signed: false,
                                        },
                                        variants: [
                                            IrVariantType {
                                                name: "",
                                                discriminant: LiteralBits {
                                                    value: 0x0_u0,
                                                },
                                                fields: [
                                                    IrFieldType {
                                                        name: "a",
                                                        ty: IrAggregateType {
                                                            discriminant_type: IrBitVectorType {
                                                                bit_count: 4,
                                                                signed: false,
                                                            },
                                                            variants: [
                                                                IrVariantType {
                                                                    name: "Z",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x0_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrVariantType {
                                                                    name: "A",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x5_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrVariantType {
                                                                    name: "C",
                                                                    discriminant: LiteralBits {
                                                                        value: 0xa_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrVariantType {
                                                                    name: "B",
                                                                    discriminant: LiteralBits {
                                                                        value: 0xf_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                        },
                                                    },
                                                    IrFieldType {
                                                        name: "b",
                                                        ty: IrBitVectorType {
                                                            bit_count: 1,
                                                            signed: false,
                                                        },
                                                    },
                                                    IrFieldType {
                                                        name: "c",
                                                        ty: IrAggregateType {
                                                            discriminant_type: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                            variants: [
                                                                IrVariantType {
                                                                    name: "",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x0_u0,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                        },
                                                    },
                                                    IrFieldType {
                                                        name: "d",
                                                        ty: IrBitVectorType {
                                                            bit_count: 8,
                                                            signed: false,
                                                        },
                                                    },
                                                ],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 13,
                                                    signed: false,
                                                },
                                            },
                                        ],
                                        flattened_fields: IrBitVectorType {
                                            bit_count: 13,
                                            signed: false,
                                        },
                                    },
                                    scope: Scope {
                                        source_location: SourceLocation($FILE, $LINE-2, 9),
                                        path: "top",
                                        ..
                                    },
                                },
                                aggregate_type: IrAggregateType {
                                    discriminant_type: IrBitVectorType {
                                        bit_count: 0,
                                        signed: false,
                                    },
                                    variants: [
                                        IrVariantType {
                                            name: "",
                                            discriminant: LiteralBits {
                                                value: 0x0_u0,
                                            },
                                            fields: [
                                                IrFieldType {
                                                    name: "a",
                                                    ty: IrAggregateType {
                                                        discriminant_type: IrBitVectorType {
                                                            bit_count: 4,
                                                            signed: false,
                                                        },
                                                        variants: [
                                                            IrVariantType {
                                                                name: "Z",
                                                                discriminant: LiteralBits {
                                                                    value: 0x0_u4,
                                                                },
                                                                fields: [],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                            IrVariantType {
                                                                name: "A",
                                                                discriminant: LiteralBits {
                                                                    value: 0x5_u4,
                                                                },
                                                                fields: [],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                            IrVariantType {
                                                                name: "C",
                                                                discriminant: LiteralBits {
                                                                    value: 0xa_u4,
                                                                },
                                                                fields: [],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                            IrVariantType {
                                                                name: "B",
                                                                discriminant: LiteralBits {
                                                                    value: 0xf_u4,
                                                                },
                                                                fields: [],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 0,
                                                            signed: false,
                                                        },
                                                    },
                                                },
                                                IrFieldType {
                                                    name: "b",
                                                    ty: IrBitVectorType {
                                                        bit_count: 1,
                                                        signed: false,
                                                    },
                                                },
                                                IrFieldType {
                                                    name: "c",
                                                    ty: IrAggregateType {
                                                        discriminant_type: IrBitVectorType {
                                                            bit_count: 0,
                                                            signed: false,
                                                        },
                                                        variants: [
                                                            IrVariantType {
                                                                name: "",
                                                                discriminant: LiteralBits {
                                                                    value: 0x0_u0,
                                                                },
                                                                fields: [],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 0,
                                                            signed: false,
                                                        },
                                                    },
                                                },
                                                IrFieldType {
                                                    name: "d",
                                                    ty: IrBitVectorType {
                                                        bit_count: 8,
                                                        signed: false,
                                                    },
                                                },
                                            ],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 13,
                                                signed: false,
                                            },
                                        },
                                    ],
                                    flattened_fields: IrBitVectorType {
                                        bit_count: 13,
                                        signed: false,
                                    },
                                },
                                variant_index: 0,
                                field_index: 0,
                            },
                            aggregate_type: IrAggregateType {
                                discriminant_type: IrBitVectorType {
                                    bit_count: 4,
                                    signed: false,
                                },
                                variants: [
                                    IrVariantType {
                                        name: "Z",
                                        discriminant: LiteralBits {
                                            value: 0x0_u4,
                                        },
                                        fields: [],
                                        flattened_fields: IrBitVectorType {
                                            bit_count: 0,
                                            signed: false,
                                        },
                                    },
                                    IrVariantType {
                                        name: "A",
                                        discriminant: LiteralBits {
                                            value: 0x5_u4,
                                        },
                                        fields: [],
                                        flattened_fields: IrBitVectorType {
                                            bit_count: 0,
                                            signed: false,
                                        },
                                    },
                                    IrVariantType {
                                        name: "C",
                                        discriminant: LiteralBits {
                                            value: 0xa_u4,
                                        },
                                        fields: [],
                                        flattened_fields: IrBitVectorType {
                                            bit_count: 0,
                                            signed: false,
                                        },
                                    },
                                    IrVariantType {
                                        name: "B",
                                        discriminant: LiteralBits {
                                            value: 0xf_u4,
                                        },
                                        fields: [],
                                        flattened_fields: IrBitVectorType {
                                            bit_count: 0,
                                            signed: false,
                                        },
                                    },
                                ],
                                flattened_fields: IrBitVectorType {
                                    bit_count: 0,
                                    signed: false,
                                },
                            },
                            variant_index: 1,
                        },
                        rhs: ShrinkScope {
                            value: BoolOutBinOp {
                                kind: CompareEq,
                                input_type: IrBitVectorType {
                                    bit_count: 8,
                                    signed: false,
                                },
                                scope: Some(
                                    Scope {
                                        source_location: SourceLocation($FILE, $LINE-111, 9),
                                        path: "top".'1,
                                        ..
                                    },
                                ),
                                lhs: SameSizeBinOp {
                                    kind: Xor,
                                    value_type: IrBitVectorType {
                                        bit_count: 8,
                                        signed: false,
                                    },
                                    scope: Some(
                                        Scope {
                                            source_location: SourceLocation($FILE, $LINE-111, 9),
                                            path: "top".'1,
                                            ..
                                        },
                                    ),
                                    lhs: ShrinkScope {
                                        value: ExtractAggregateField {
                                            aggregate_value: ShrinkScope {
                                                value: IrModuleInput {
                                                    module: "top",
                                                    index: 0,
                                                    path: "io.value",
                                                    value_type: IrAggregateType {
                                                        discriminant_type: IrBitVectorType {
                                                            bit_count: 0,
                                                            signed: false,
                                                        },
                                                        variants: [
                                                            IrVariantType {
                                                                name: "",
                                                                discriminant: LiteralBits {
                                                                    value: 0x0_u0,
                                                                },
                                                                fields: [
                                                                    IrFieldType {
                                                                        name: "a",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 4,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "Z",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "A",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x5_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "C",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xa_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "B",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xf_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "b",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 1,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "c",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u0,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "d",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 8,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 13,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                },
                                                value_type: IrAggregateType {
                                                    discriminant_type: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                    variants: [
                                                        IrVariantType {
                                                            name: "",
                                                            discriminant: LiteralBits {
                                                                value: 0x0_u0,
                                                            },
                                                            fields: [
                                                                IrFieldType {
                                                                    name: "a",
                                                                    ty: IrAggregateType {
                                                                        discriminant_type: IrBitVectorType {
                                                                            bit_count: 4,
                                                                            signed: false,
                                                                        },
                                                                        variants: [
                                                                            IrVariantType {
                                                                                name: "Z",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x0_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "A",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x5_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "C",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0xa_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "B",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0xf_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "b",
                                                                    ty: IrBitVectorType {
                                                                        bit_count: 1,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "c",
                                                                    ty: IrAggregateType {
                                                                        discriminant_type: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                        variants: [
                                                                            IrVariantType {
                                                                                name: "",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x0_u0,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "d",
                                                                    ty: IrBitVectorType {
                                                                        bit_count: 8,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 13,
                                                                signed: false,
                                                            },
                                                        },
                                                    ],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 13,
                                                        signed: false,
                                                    },
                                                },
                                                scope: Scope {
                                                    source_location: SourceLocation($FILE, $LINE-2, 9),
                                                    path: "top",
                                                    ..
                                                },
                                            },
                                            aggregate_type: IrAggregateType {
                                                discriminant_type: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                                variants: [
                                                    IrVariantType {
                                                        name: "",
                                                        discriminant: LiteralBits {
                                                            value: 0x0_u0,
                                                        },
                                                        fields: [
                                                            IrFieldType {
                                                                name: "a",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 4,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "Z",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "A",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x5_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "C",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xa_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "B",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xf_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "b",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 1,
                                                                    signed: false,
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "c",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u0,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "d",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 8,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                ],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 13,
                                                    signed: false,
                                                },
                                            },
                                            variant_index: 0,
                                            field_index: 3,
                                        },
                                        value_type: IrBitVectorType {
                                            bit_count: 8,
                                            signed: false,
                                        },
                                        scope: Scope {
                                            source_location: SourceLocation($FILE, $LINE-111, 9),
                                            path: "top".'1,
                                            ..
                                        },
                                    },
                                    rhs: LiteralBits {
                                        value: 0x5_u8,
                                    },
                                },
                                rhs: LiteralBits {
                                    value: 0x3_u8,
                                },
                            },
                            value_type: IrBitVectorType {
                                bit_count: 1,
                                signed: false,
                            },
                            scope: Scope {
                                source_location: SourceLocation($FILE, $LINE-111, 9),
                                path: "top".'1,
                                ..
                            },
                        },
                    },
                    value_type: IrBitVectorType {
                        bit_count: 1,
                        signed: false,
                    },
                    input_scope: Scope {
                        source_location: SourceLocation($FILE, $LINE-111, 9),
                        path: "top".'1,
                        ..
                    },
                    result_scope: Scope {
                        source_location: SourceLocation($FILE, $LINE-2, 9),
                        path: "top",
                        ..
                    },
                },
                value_type: IrBitVectorType {
                    bit_count: 8,
                    signed: false,
                },
                scope: Some(
                    Scope {
                        source_location: SourceLocation($FILE, $LINE-2, 9),
                        path: "top",
                        ..
                    },
                ),
                true_value: ExpandScope {
                    value: LiteralBits {
                        value: 0x1_u8,
                    },
                    value_type: IrBitVectorType {
                        bit_count: 8,
                        signed: false,
                    },
                    input_scope: Scope {
                        source_location: SourceLocation($FILE, $LINE-111, 9),
                        path: "top".'1,
                        ..
                    },
                    result_scope: Scope {
                        source_location: SourceLocation($FILE, $LINE-2, 9),
                        path: "top",
                        ..
                    },
                },
                false_value: Mux {
                    condition: ExpandScope {
                        value: SameSizeBinOp {
                            kind: And,
                            value_type: IrBitVectorType {
                                bit_count: 1,
                                signed: false,
                            },
                            scope: Some(
                                Scope {
                                    source_location: SourceLocation($FILE, $LINE-111, 9),
                                    path: "top".'2,
                                    ..
                                },
                            ),
                            lhs: IsAggregateVariant {
                                aggregate_value: ExtractAggregateField {
                                    aggregate_value: ShrinkScope {
                                        value: IrModuleInput {
                                            module: "top",
                                            index: 0,
                                            path: "io.value",
                                            value_type: IrAggregateType {
                                                discriminant_type: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                                variants: [
                                                    IrVariantType {
                                                        name: "",
                                                        discriminant: LiteralBits {
                                                            value: 0x0_u0,
                                                        },
                                                        fields: [
                                                            IrFieldType {
                                                                name: "a",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 4,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "Z",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "A",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x5_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "C",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xa_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "B",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xf_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "b",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 1,
                                                                    signed: false,
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "c",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u0,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "d",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 8,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                ],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 13,
                                                    signed: false,
                                                },
                                            },
                                        },
                                        value_type: IrAggregateType {
                                            discriminant_type: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                            variants: [
                                                IrVariantType {
                                                    name: "",
                                                    discriminant: LiteralBits {
                                                        value: 0x0_u0,
                                                    },
                                                    fields: [
                                                        IrFieldType {
                                                            name: "a",
                                                            ty: IrAggregateType {
                                                                discriminant_type: IrBitVectorType {
                                                                    bit_count: 4,
                                                                    signed: false,
                                                                },
                                                                variants: [
                                                                    IrVariantType {
                                                                        name: "Z",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x0_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "A",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x5_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "C",
                                                                        discriminant: LiteralBits {
                                                                            value: 0xa_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "B",
                                                                        discriminant: LiteralBits {
                                                                            value: 0xf_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "b",
                                                            ty: IrBitVectorType {
                                                                bit_count: 1,
                                                                signed: false,
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "c",
                                                            ty: IrAggregateType {
                                                                discriminant_type: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                                variants: [
                                                                    IrVariantType {
                                                                        name: "",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x0_u0,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "d",
                                                            ty: IrBitVectorType {
                                                                bit_count: 8,
                                                                signed: false,
                                                            },
                                                        },
                                                    ],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 13,
                                                        signed: false,
                                                    },
                                                },
                                            ],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 13,
                                                signed: false,
                                            },
                                        },
                                        scope: Scope {
                                            source_location: SourceLocation($FILE, $LINE-2, 9),
                                            path: "top",
                                            ..
                                        },
                                    },
                                    aggregate_type: IrAggregateType {
                                        discriminant_type: IrBitVectorType {
                                            bit_count: 0,
                                            signed: false,
                                        },
                                        variants: [
                                            IrVariantType {
                                                name: "",
                                                discriminant: LiteralBits {
                                                    value: 0x0_u0,
                                                },
                                                fields: [
                                                    IrFieldType {
                                                        name: "a",
                                                        ty: IrAggregateType {
                                                            discriminant_type: IrBitVectorType {
                                                                bit_count: 4,
                                                                signed: false,
                                                            },
                                                            variants: [
                                                                IrVariantType {
                                                                    name: "Z",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x0_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrVariantType {
                                                                    name: "A",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x5_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrVariantType {
                                                                    name: "C",
                                                                    discriminant: LiteralBits {
                                                                        value: 0xa_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrVariantType {
                                                                    name: "B",
                                                                    discriminant: LiteralBits {
                                                                        value: 0xf_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                        },
                                                    },
                                                    IrFieldType {
                                                        name: "b",
                                                        ty: IrBitVectorType {
                                                            bit_count: 1,
                                                            signed: false,
                                                        },
                                                    },
                                                    IrFieldType {
                                                        name: "c",
                                                        ty: IrAggregateType {
                                                            discriminant_type: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                            variants: [
                                                                IrVariantType {
                                                                    name: "",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x0_u0,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                        },
                                                    },
                                                    IrFieldType {
                                                        name: "d",
                                                        ty: IrBitVectorType {
                                                            bit_count: 8,
                                                            signed: false,
                                                        },
                                                    },
                                                ],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 13,
                                                    signed: false,
                                                },
                                            },
                                        ],
                                        flattened_fields: IrBitVectorType {
                                            bit_count: 13,
                                            signed: false,
                                        },
                                    },
                                    variant_index: 0,
                                    field_index: 0,
                                },
                                aggregate_type: IrAggregateType {
                                    discriminant_type: IrBitVectorType {
                                        bit_count: 4,
                                        signed: false,
                                    },
                                    variants: [
                                        IrVariantType {
                                            name: "Z",
                                            discriminant: LiteralBits {
                                                value: 0x0_u4,
                                            },
                                            fields: [],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                        IrVariantType {
                                            name: "A",
                                            discriminant: LiteralBits {
                                                value: 0x5_u4,
                                            },
                                            fields: [],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                        IrVariantType {
                                            name: "C",
                                            discriminant: LiteralBits {
                                                value: 0xa_u4,
                                            },
                                            fields: [],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                        IrVariantType {
                                            name: "B",
                                            discriminant: LiteralBits {
                                                value: 0xf_u4,
                                            },
                                            fields: [],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                        },
                                    ],
                                    flattened_fields: IrBitVectorType {
                                        bit_count: 0,
                                        signed: false,
                                    },
                                },
                                variant_index: 2,
                            },
                            rhs: ShrinkScope {
                                value: SameSizeUnOp {
                                    kind: Not,
                                    value_type: IrBitVectorType {
                                        bit_count: 1,
                                        signed: false,
                                    },
                                    input: ShrinkScope {
                                        value: ExtractAggregateField {
                                            aggregate_value: ShrinkScope {
                                                value: IrModuleInput {
                                                    module: "top",
                                                    index: 0,
                                                    path: "io.value",
                                                    value_type: IrAggregateType {
                                                        discriminant_type: IrBitVectorType {
                                                            bit_count: 0,
                                                            signed: false,
                                                        },
                                                        variants: [
                                                            IrVariantType {
                                                                name: "",
                                                                discriminant: LiteralBits {
                                                                    value: 0x0_u0,
                                                                },
                                                                fields: [
                                                                    IrFieldType {
                                                                        name: "a",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 4,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "Z",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "A",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x5_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "C",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xa_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                                IrVariantType {
                                                                                    name: "B",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0xf_u4,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "b",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 1,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "c",
                                                                        ty: IrAggregateType {
                                                                            discriminant_type: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                            variants: [
                                                                                IrVariantType {
                                                                                    name: "",
                                                                                    discriminant: LiteralBits {
                                                                                        value: 0x0_u0,
                                                                                    },
                                                                                    fields: [],
                                                                                    flattened_fields: IrBitVectorType {
                                                                                        bit_count: 0,
                                                                                        signed: false,
                                                                                    },
                                                                                },
                                                                            ],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    },
                                                                    IrFieldType {
                                                                        name: "d",
                                                                        ty: IrBitVectorType {
                                                                            bit_count: 8,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 13,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                },
                                                value_type: IrAggregateType {
                                                    discriminant_type: IrBitVectorType {
                                                        bit_count: 0,
                                                        signed: false,
                                                    },
                                                    variants: [
                                                        IrVariantType {
                                                            name: "",
                                                            discriminant: LiteralBits {
                                                                value: 0x0_u0,
                                                            },
                                                            fields: [
                                                                IrFieldType {
                                                                    name: "a",
                                                                    ty: IrAggregateType {
                                                                        discriminant_type: IrBitVectorType {
                                                                            bit_count: 4,
                                                                            signed: false,
                                                                        },
                                                                        variants: [
                                                                            IrVariantType {
                                                                                name: "Z",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x0_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "A",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x5_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "C",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0xa_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                            IrVariantType {
                                                                                name: "B",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0xf_u4,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "b",
                                                                    ty: IrBitVectorType {
                                                                        bit_count: 1,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "c",
                                                                    ty: IrAggregateType {
                                                                        discriminant_type: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                        variants: [
                                                                            IrVariantType {
                                                                                name: "",
                                                                                discriminant: LiteralBits {
                                                                                    value: 0x0_u0,
                                                                                },
                                                                                fields: [],
                                                                                flattened_fields: IrBitVectorType {
                                                                                    bit_count: 0,
                                                                                    signed: false,
                                                                                },
                                                                            },
                                                                        ],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                },
                                                                IrFieldType {
                                                                    name: "d",
                                                                    ty: IrBitVectorType {
                                                                        bit_count: 8,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 13,
                                                                signed: false,
                                                            },
                                                        },
                                                    ],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 13,
                                                        signed: false,
                                                    },
                                                },
                                                scope: Scope {
                                                    source_location: SourceLocation($FILE, $LINE-2, 9),
                                                    path: "top",
                                                    ..
                                                },
                                            },
                                            aggregate_type: IrAggregateType {
                                                discriminant_type: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                                variants: [
                                                    IrVariantType {
                                                        name: "",
                                                        discriminant: LiteralBits {
                                                            value: 0x0_u0,
                                                        },
                                                        fields: [
                                                            IrFieldType {
                                                                name: "a",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 4,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "Z",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "A",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x5_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "C",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xa_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "B",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xf_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "b",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 1,
                                                                    signed: false,
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "c",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u0,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "d",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 8,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                ],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 13,
                                                    signed: false,
                                                },
                                            },
                                            variant_index: 0,
                                            field_index: 1,
                                        },
                                        value_type: IrBitVectorType {
                                            bit_count: 1,
                                            signed: false,
                                        },
                                        scope: Scope {
                                            source_location: SourceLocation($FILE, $LINE-111, 9),
                                            path: "top".'2,
                                            ..
                                        },
                                    },
                                },
                                value_type: IrBitVectorType {
                                    bit_count: 1,
                                    signed: false,
                                },
                                scope: Scope {
                                    source_location: SourceLocation($FILE, $LINE-111, 9),
                                    path: "top".'2,
                                    ..
                                },
                            },
                        },
                        value_type: IrBitVectorType {
                            bit_count: 1,
                            signed: false,
                        },
                        input_scope: Scope {
                            source_location: SourceLocation($FILE, $LINE-111, 9),
                            path: "top".'2,
                            ..
                        },
                        result_scope: Scope {
                            source_location: SourceLocation($FILE, $LINE-2, 9),
                            path: "top",
                            ..
                        },
                    },
                    value_type: IrBitVectorType {
                        bit_count: 8,
                        signed: false,
                    },
                    scope: Some(
                        Scope {
                            source_location: SourceLocation($FILE, $LINE-2, 9),
                            path: "top",
                            ..
                        },
                    ),
                    true_value: ExpandScope {
                        value: SameSizeBinOp {
                            kind: Add,
                            value_type: IrBitVectorType {
                                bit_count: 8,
                                signed: false,
                            },
                            scope: Some(
                                Scope {
                                    source_location: SourceLocation($FILE, $LINE-111, 9),
                                    path: "top".'2,
                                    ..
                                },
                            ),
                            lhs: LiteralBits {
                                value: 0x2_u8,
                            },
                            rhs: ShrinkScope {
                                value: ExtractAggregateField {
                                    aggregate_value: ShrinkScope {
                                        value: IrModuleInput {
                                            module: "top",
                                            index: 0,
                                            path: "io.value",
                                            value_type: IrAggregateType {
                                                discriminant_type: IrBitVectorType {
                                                    bit_count: 0,
                                                    signed: false,
                                                },
                                                variants: [
                                                    IrVariantType {
                                                        name: "",
                                                        discriminant: LiteralBits {
                                                            value: 0x0_u0,
                                                        },
                                                        fields: [
                                                            IrFieldType {
                                                                name: "a",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 4,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "Z",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "A",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x5_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "C",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xa_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                        IrVariantType {
                                                                            name: "B",
                                                                            discriminant: LiteralBits {
                                                                                value: 0xf_u4,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "b",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 1,
                                                                    signed: false,
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "c",
                                                                ty: IrAggregateType {
                                                                    discriminant_type: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                    variants: [
                                                                        IrVariantType {
                                                                            name: "",
                                                                            discriminant: LiteralBits {
                                                                                value: 0x0_u0,
                                                                            },
                                                                            fields: [],
                                                                            flattened_fields: IrBitVectorType {
                                                                                bit_count: 0,
                                                                                signed: false,
                                                                            },
                                                                        },
                                                                    ],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            },
                                                            IrFieldType {
                                                                name: "d",
                                                                ty: IrBitVectorType {
                                                                    bit_count: 8,
                                                                    signed: false,
                                                                },
                                                            },
                                                        ],
                                                        flattened_fields: IrBitVectorType {
                                                            bit_count: 13,
                                                            signed: false,
                                                        },
                                                    },
                                                ],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 13,
                                                    signed: false,
                                                },
                                            },
                                        },
                                        value_type: IrAggregateType {
                                            discriminant_type: IrBitVectorType {
                                                bit_count: 0,
                                                signed: false,
                                            },
                                            variants: [
                                                IrVariantType {
                                                    name: "",
                                                    discriminant: LiteralBits {
                                                        value: 0x0_u0,
                                                    },
                                                    fields: [
                                                        IrFieldType {
                                                            name: "a",
                                                            ty: IrAggregateType {
                                                                discriminant_type: IrBitVectorType {
                                                                    bit_count: 4,
                                                                    signed: false,
                                                                },
                                                                variants: [
                                                                    IrVariantType {
                                                                        name: "Z",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x0_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "A",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x5_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "C",
                                                                        discriminant: LiteralBits {
                                                                            value: 0xa_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                    IrVariantType {
                                                                        name: "B",
                                                                        discriminant: LiteralBits {
                                                                            value: 0xf_u4,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "b",
                                                            ty: IrBitVectorType {
                                                                bit_count: 1,
                                                                signed: false,
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "c",
                                                            ty: IrAggregateType {
                                                                discriminant_type: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                                variants: [
                                                                    IrVariantType {
                                                                        name: "",
                                                                        discriminant: LiteralBits {
                                                                            value: 0x0_u0,
                                                                        },
                                                                        fields: [],
                                                                        flattened_fields: IrBitVectorType {
                                                                            bit_count: 0,
                                                                            signed: false,
                                                                        },
                                                                    },
                                                                ],
                                                                flattened_fields: IrBitVectorType {
                                                                    bit_count: 0,
                                                                    signed: false,
                                                                },
                                                            },
                                                        },
                                                        IrFieldType {
                                                            name: "d",
                                                            ty: IrBitVectorType {
                                                                bit_count: 8,
                                                                signed: false,
                                                            },
                                                        },
                                                    ],
                                                    flattened_fields: IrBitVectorType {
                                                        bit_count: 13,
                                                        signed: false,
                                                    },
                                                },
                                            ],
                                            flattened_fields: IrBitVectorType {
                                                bit_count: 13,
                                                signed: false,
                                            },
                                        },
                                        scope: Scope {
                                            source_location: SourceLocation($FILE, $LINE-2, 9),
                                            path: "top",
                                            ..
                                        },
                                    },
                                    aggregate_type: IrAggregateType {
                                        discriminant_type: IrBitVectorType {
                                            bit_count: 0,
                                            signed: false,
                                        },
                                        variants: [
                                            IrVariantType {
                                                name: "",
                                                discriminant: LiteralBits {
                                                    value: 0x0_u0,
                                                },
                                                fields: [
                                                    IrFieldType {
                                                        name: "a",
                                                        ty: IrAggregateType {
                                                            discriminant_type: IrBitVectorType {
                                                                bit_count: 4,
                                                                signed: false,
                                                            },
                                                            variants: [
                                                                IrVariantType {
                                                                    name: "Z",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x0_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrVariantType {
                                                                    name: "A",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x5_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrVariantType {
                                                                    name: "C",
                                                                    discriminant: LiteralBits {
                                                                        value: 0xa_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                                IrVariantType {
                                                                    name: "B",
                                                                    discriminant: LiteralBits {
                                                                        value: 0xf_u4,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                        },
                                                    },
                                                    IrFieldType {
                                                        name: "b",
                                                        ty: IrBitVectorType {
                                                            bit_count: 1,
                                                            signed: false,
                                                        },
                                                    },
                                                    IrFieldType {
                                                        name: "c",
                                                        ty: IrAggregateType {
                                                            discriminant_type: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                            variants: [
                                                                IrVariantType {
                                                                    name: "",
                                                                    discriminant: LiteralBits {
                                                                        value: 0x0_u0,
                                                                    },
                                                                    fields: [],
                                                                    flattened_fields: IrBitVectorType {
                                                                        bit_count: 0,
                                                                        signed: false,
                                                                    },
                                                                },
                                                            ],
                                                            flattened_fields: IrBitVectorType {
                                                                bit_count: 0,
                                                                signed: false,
                                                            },
                                                        },
                                                    },
                                                    IrFieldType {
                                                        name: "d",
                                                        ty: IrBitVectorType {
                                                            bit_count: 8,
                                                            signed: false,
                                                        },
                                                    },
                                                ],
                                                flattened_fields: IrBitVectorType {
                                                    bit_count: 13,
                                                    signed: false,
                                                },
                                            },
                                        ],
                                        flattened_fields: IrBitVectorType {
                                            bit_count: 13,
                                            signed: false,
                                        },
                                    },
                                    variant_index: 0,
                                    field_index: 3,
                                },
                                value_type: IrBitVectorType {
                                    bit_count: 8,
                                    signed: false,
                                },
                                scope: Scope {
                                    source_location: SourceLocation($FILE, $LINE-111, 9),
                                    path: "top".'2,
                                    ..
                                },
                            },
                        },
                        value_type: IrBitVectorType {
                            bit_count: 8,
                            signed: false,
                        },
                        input_scope: Scope {
                            source_location: SourceLocation($FILE, $LINE-111, 9),
                            path: "top".'2,
                            ..
                        },
                        result_scope: Scope {
                            source_location: SourceLocation($FILE, $LINE-2, 9),
                            path: "top",
                            ..
                        },
                    },
                    false_value: ExpandScope {
                        value: LiteralBits {
                            value: 0x3_u8,
                        },
                        value_type: IrBitVectorType {
                            bit_count: 8,
                            signed: false,
                        },
                        input_scope: Scope {
                            source_location: SourceLocation($FILE, $LINE-111, 9),
                            path: "top".'3,
                            ..
                        },
                        result_scope: Scope {
                            source_location: SourceLocation($FILE, $LINE-2, 9),
                            path: "top",
                            ..
                        },
                    },
                },
            },
            ..
        },
    },
    registers: {},
    ..
}